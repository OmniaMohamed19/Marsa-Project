<app-header [background]="'#008CCF'"></app-header>
<section class="content">
  <div class="container">
    <div class="images">
      <img src="../../../../../assets/images/Ellipse1(1).png" alt="" style="width: 100%; max-width: 50%;
    height: 70%;"/>
      <div class="text-container">
        <p style="font-size:3vw;">What to do in</p>
        <p style="font-size:4vw;" class="info">{{ placeDetails.places.name }}</p>
      </div>
    </div>
  <div id="about" style="margin-bottom: 2rem;">
    <h4>About The City</h4>
    <p>
      {{ placeDetails?.places?.overview }}
    </p>
    <p>
      {{ placeDetails?.places?.short_overview }}
    </p>
    </div>

<!---------- Types--------->
<div class="day-trip-container" *ngIf="screenWidth > 1023">
  <div *ngFor="let type of placeDetails?.typeTrip"
       class="day-trip-img"
       (click)="selectTrip(type.id)">
    <div class="text-center">
      <div class="day-trip-img-content"
           [ngClass]="{
             'selected': selectedTrip === type.id,
             'active': selectedTrip === type.id && selectedTripType === type
           }">
        <img [src]="type?.image" alt="" class="trip-image" />
      </div>
      <h6 class="mt-3">{{ type?.type }}</h6>
    </div>
  </div>
</div>

<!-- Trip details section -->
<div class="trip-details">
  <h4>{{ selectedTripType?.type }}</h4>

  <h5>
    {{ totalTripsCount }} Activities found
  </h5>
  <div class="row g-4 p-4">
    <div class="col-12 col-xl-4 col-lg-6 col-md-6" *ngFor="let tripip of visibleTrips">
      <app-activity-card [item]="tripip"></app-activity-card>
    </div>
  </div>

  <div *ngIf="hiddenTrips.length > 0" class="text-center">
    <div class="show-more-container">
      <span class="horizontal-line"></span>
      <button class="btn btn-outline-primary rounded-5 mt-3"
              (click)="showMore()"
              [ngClass]="{'btn-loading': loading}"
              [disabled]="loading">
        <span *ngIf="loading" class="spinner-border text-primary" role="status" aria-hidden="true"></span>
        <span *ngIf="!loading">show more</span>
      </button>
      <span class="horizontal-line"></span>
    </div>
  </div>
</div>

<!-- Carousel -->
<owl-carousel-o *ngIf="screenWidth <= 1023" [options]="customOptions" class="trending">
  <ng-template *ngFor="let type of placeDetails?.typeTrip" carouselSlide>
    <div class="day-trip-img"
         [ngClass]="{ 'selected': selectedTrip === type.id }"
         (click)="selectTrip(type.id)">
      <div class="text-center">
        <div class="day-trip-img-content">
          <img [src]="type?.image" alt="" class="trip-image" />

        </div>
        <h6 class="mt-3">{{ type?.type }}</h6>
      </div>

    </div>
  </ng-template>
</owl-carousel-o>

<!-- /////////////recommended///////// -->
<div id="all-activity">
  <h4 class="mb-4">
    Our most recommended things to do in {{ placeDetails?.places?.name }}
  </h4>
  <div class="row">
    <div
      *ngFor="let rec of placeDetails?.recomended"
      class="col-lg-6 col-xl-6 col-12 mb-5 d-flex align-items-center"
    >
      <div class="col-md-6">
        <img
          [src]="rec.images"
          class="img-fluid rounded"
          style="width: 100%; height: auto; max-height: 300px;"
        />
      </div>
      <div class="col-md-6 details">
        <p class="font-weight-bold" style="font-size: 20px; color: #1a2b49;">
          {{ rec?.title }}
        </p>
        <p class="text-muted" style="font-size: 12px;">
          {{ rec?.created_at }}
          <span class="ml-2" style="color: #297cbb;">
            {{ rec?.Category }}
          </span>
        </p>
        <p  [innerHTML]="rec?.overview | slice:0:100" style="color: #1a2b49;"></p>
        <button *ngIf="rec?.overview.length > 100" class="btn btn-link p-0" (click)="toggleSeeMore(rec)">
          {{ rec?.seeMore ? 'See Less' : 'See More' }}
        </button>
        <p *ngIf="rec?.seeMore"  style="color: #1a2b49;" [innerHTML]="rec?.overview"></p>
      </div>
    </div>
  </div>
</div>



</div>

</section>
