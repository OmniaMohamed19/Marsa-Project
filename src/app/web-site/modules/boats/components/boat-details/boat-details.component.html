<app-header [background]="'#0DB1FF'"></app-header>
<div class="container details-page">
  <div>
    <div>
      <nav class="py-3" aria-label="breadcrumb">
        <ol
          class="breadcrumb breadcrumb-no-gutter gap-1 mb-0 flex-nowrap flex-xl-wrap overflow-auto overflow-xl-visble"
        >
          <li class="flex-shrink-0 flex-xl-shrink-1">
            <a [routerLink]="['/', translate.currentLang]">Home</a>
          </li>
          <i class="fa-solid fa-angle-right"></i>
          <li class="flex-shrink-0 flex-xl-shrink-1">
            <a>{{ boatData?.Place }}</a>
          </li>
          <i class="fa-solid fa-angle-right"></i>
          <li class="flex-shrink-0 flex-xl-shrink-1">
            <a> {{ boatData?.Type }}</a>
          </li>
          <i class="fa-solid fa-angle-right"></i>
          <li class="flex-shrink-0 flex-xl-shrink-1" aria-current="page">
            {{ boatData?.Name }}
          </li>
        </ol>
      </nav>
    </div>
    <div class="row">
      <div class="col-lg-8 col-xl-9 py-5">
        <div
          class="d-block d-md-flex flex-center-between align-items-start mb-3"
        >
          <div class="mb-1">
            <div class="mb-2 mb-md-0 d-flex align-items-center">
              <h4 class="mb-1 mr-3">{{ boatData?.Name }}</h4>
              <!-- <button class="btn popular">Popular</button> -->
            </div>
            <div class="d-block mt-4">
              <div class="d-block font-size-14 text-gray-1 mb-2 mb-md-0">
                <div
                  class="d-block d-md-flex flex-horizontal-center font-size-14 text-gray-1 mb-2 mb-md-0"
                >
                  <img
                    src="assets/custom/Activity/locationDark.svg"
                    class="pe-2"
                    alt="IMG"
                  />
                  <a class="location">{{ boatData?.Place }}</a>
                  <a
                    (click)="scrollTo('showmap')"
                    [class.active]="activeTabId === 'showmap'"
                    class="ml-1 d-block d-md-inline location text-primary"
                  >
                    - View on map</a
                  >
                </div>
                <div *ngIf="showMapFrame">
                  <div [innerHTML]="googleIframe"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="mb-4">
          <ul
            class="list-group list-group-borderless list-group-horizontal row"
          >
            <li
              class="col-md-4 flex-horizontal-center list-group-item text-lh-sm mb-2"
              *ngIf="boatData?.Cancellation === 0"
            >
              <img src="assets/custom/Activity/free.svg" alt="icon" />
              <div class="ml-1 text-gray-1">No Cancelation</div>
            </li>
            <li
              class="col-md-4 flex-horizontal-center list-group-item text-lh-sm mb-2"
              *ngIf="boatData?.Cancellation > 0"
            >
            <img
            src="assets/custom/Activity/free.svg"
            class="pe-2"
            alt="free"
          />              <div class="ml-1 text-gray-1">Free Cancelation</div>
            </li>
            <li
              class="col-md-4 flex-horizontal-center list-group-item text-lh-sm mb-2"
              *ngIf="boatData?.PrintedOrMobileVoucherAccepted > 0"
            >
              <img src="assets/custom/Activity/booking.svg" alt="icon" />
              <div class="ml-1 text-gray-1">
                Printed or mobile voucher accepted
              </div>
            </li>
            <!-- <li class="col-md-4 flex-horizontal-center list-group-item text-lh-sm mb-2">
                            <img src="assets/custom/Activity/alarm.svg" alt="icon">
                            <div class="ml-1 text-gray-1">90 Min Duration</div>
                        </li> -->
            <li
              class="col-md-4 flex-horizontal-center list-group-item text-lh-sm mb-2"
              *ngIf="boatData?.OpenDateTicket > 0"
            >
              <img src="assets/custom/Activity/document.svg" alt="icon" />
              <div class="ml-1 text-gray-1">Open Date Ticket</div>
            </li>
            <li
              class="col-md-4 flex-horizontal-center list-group-item text-lh-sm mb-2"
              *ngIf="boatData?.CollectPhysicalTicket > 0"
            >
            <img src="../../../../../../assets/icons/pickUp.svg" width="24" height="24">
              <div class="ml-1 text-gray-1">Collect Physical Ticket</div>
            </li>
          </ul>
        </div>
        <div class="col mb-5">
          <div class="image">
            <!-- <owl-carousel-o [options]="coverAndImagesOptions" class="trending">
              <ng-container *ngFor="let imgs of coverAndImages">
                <ng-template carouselSlide>
                  <div class="position-relative mt-4">
                    <img
                      [src]="imgs?.value"
                      alt="item"
                      loading="lazy"
                      style="height: 480px; min-width: 720px"
                      class="cover-image"
                      id="mobile-img"
                    />
                  </div>
                </ng-template>
              </ng-container>
            </owl-carousel-o> -->

            <p-galleria
              [value]="coverAndImages"
              [responsiveOptions]="responsiveOptions"
              [containerStyle]="{ width: '100%' }"
              [numVisible]="6"
            >
              <ng-template pTemplate="item" let-item>
                <img [src]="item?.value" style="width: 100%; height: 480px" />
              </ng-template>
              <ng-template pTemplate="thumbnail" let-item>
                <div class="grid grid-nogutter justify-content-center">
                  <img [src]="item?.value" />
                </div>
              </ng-template>
            </p-galleria>
            <p-galleria
              [value]="coverAndImages"
              [(visible)]="displayBasic"
              [responsiveOptions]="responsiveOptions"
              [containerStyle]="{ 'max-width': '850px' }"
              [numVisible]="7"
              [circular]="true"
              [fullScreen]="true"
              [showItemNavigators]="true"
              [showThumbnails]="false"
            >
              <ng-template pTemplate="item" let-item>
                <img [src]="item?.value" style="width: 100%; height: 480px" />
              </ng-template>
            </p-galleria>
            <!--- style="min-height: 100%; min-width: 100%; height: 437px;" -->
            <div
              class="flex-horizontal-center position-absolute video-gallery"
              style="bottom: 18%; right: 25px; z-index: 1"
            >
              <!-- Video -->
              <a
                *ngIf="boatData?.Video"
                (click)="openVideotrip()"
                class="btn btn-white py-2 px-md-5 px-3 shadow-6"
              >
                <img
                  src="assets/custom/Activity/youtube.svg"
                  class="d-md-inline w-100"
                  alt="video"
                  title="Video"
                />
              </a>
              <!-- End Video -->
              <a
                class="btn btn-white ml-2 py-2 px-md-5 px-3 shadow-6 d-md-inline"
                (click)="displayBasic = true"
              >
                <img
                  src="assets/custom/Activity/gallary.svg"
                  class="d-md-inline w-100"
                  alt="Gallery"
                  title="Gallery"
                />
              </a>
            </div>
            <!-- <owl-carousel-o [options]="imagesOptions" id="mobile-img-removed">
              <ng-container
                *ngFor="
                  let img of images;
                  let isFirst = first;
                  let isLast = last
                "
              >
                <ng-template carouselSlide>
                  <div class="pt-2" style="border: 0.4px solid #d7d6d6">
                    <img
                      [src]="img.value"
                      alt="item"
                      width="210"
                      height="135"
                      loading="lazy"
                      class="px-1"
                      [ngStyle]="{ 'max-width.%': isSingleImage ? 20 : 100 }"
                      style="cursor: pointer; width: 100%; height: 135px"
                    />
                  </div>
                </ng-template>
              </ng-container>
            </owl-carousel-o> -->
          </div>
        </div>
        <!-- details section for taps -->
        <div class="container p-0" style="max-width: 100%">
          <!-- Tabs -->
          <div class="sticky-nav">
            <ul
              class="list-unstyled d-flex justify-content-around navs tours sticky-nav"
              role="tablist"
            >
              <li
                class="nav-item"
                role="presentation"
                [class.active]="activeTabId === 'description'"
              >
                <button class="nav-link" (click)="scrollTo('description')">
                  Description
                </button>
              </li>
              <li
                class="nav-item"
                role="presentation"
                [class.active]="activeTabId === 'amenitiesDetails'"
              >
                <button class="nav-link" (click)="scrollTo('amenitiesDetails')">
                  Experience
                </button>
              </li>
              <!-- Add more tabs for other sections -->

              <li
                class="nav-item"
                role="presentation"
                [class.active]="activeTabId === 'map'"
              >
                <button class="nav-link" (click)="scrollTo('map')">Map</button>
              </li>
              <li
                class="nav-item"
                role="presentation"
                [class.active]="activeTabId === 'boat'"
              >
                <button class="nav-link" (click)="scrollTo('boat')">
                  Boat
                </button>
              </li>
              <li
                class="nav-item"
                role="presentation"
                [class.active]="activeTabId === 'importantInformation'"
              >
                <button
                  class="nav-link"
                  (click)="scrollTo('importantInformation')"
                >
                  Important Information
                </button>
              </li>

              <li
                class="nav-item"
                role="presentation"
                [class.active]="activeTabId === 'faq'"
              >
                <button class="nav-link" (click)="scrollTo('faq')">FAQ</button>
              </li>
              <li
                class="nav-item"
                role="presentation"
                [class.active]="activeTabId === 'review'"
              >
                <button class="nav-link" (click)="scrollTo('review')">
                  Review
                </button>
              </li>
            </ul>
          </div>

          <!-- Content Sections -->
          <div id="description" class="tab-pane">
            <h5 class="heading">Description</h5>
            <p [innerHTML]="displayedDescription"></p>
            <a (click)="toggleDescription()" class=" fw-bold mb-5 d-inline-block    ">
              {{ showFullDescription ? "See Less" : "See More" }}
            </a>
          </div>

          <div id="amenitiesDetails" class="tab-pane">
            <h5 class="heading">Experience</h5>
            <div class="d-flex gap-5 mt-4">
              <h6>Highlights</h6>
              <ul
                class="list-group list-group-borderless list-group-flush no-gutters"
                [innerHTML]="boatData?.Highlights"
              ></ul>
            </div>
            <div class="d-flex gap-5 mt-5">
              <div class="row">
                <div class="col-md-6 col-sm-12">
                  <h6>Includes</h6>
                  <ul
                    class="list-group list-group-borderless list-group-flush no-gutters"
                  >
                    <li
                      class="mb-3 text-gray-1"
                      *ngFor="let include of boatData?.Includes"
                    >
                      <i
                        class="fa-solid fa-check fs-4 mr-3 font-size-8 text-primary"
                      ></i>
                      {{ include }}
                    </li>
                  </ul>
                </div>
                <div class="col-md-6 col-sm-12">
                  <h6>Excludes</h6>
                  <ul
                    class="list-group list-group-borderless list-group-flush no-gutters"
                  >
                    <li
                      class="mb-3 text-gray-1"
                      *ngFor="let exclude of boatData?.Excludes"
                    >
                      <i
                        class="fa fa-times fs-4 mr-3 font-size-8"
                        style="color: #ff681a"
                      ></i>
                      {{ exclude.title }}
                      <span class="font-size-9 d-inline-block">
                        {{ exclude.title }} <br />
                        ( {{ exclude?.price }} $ per person :
                        {{ exclude?.option }})
                      </span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div id="Accommodations">
              <h5 class="heading">Accommodations</h5>
              <div class="row">
                <div
                  class="col-md-6 mt-5 mb-4"
                  *ngFor="let cabin of flattenedCabin"
                >
                  <div class="card">
                    <img
                      class="card-img-top"
                      (click)="openCabinSliderModal(cabin)"
                      [src]="cabin?.image[0]"
                      alt="Accommodations image"
                    />
                    <div class="card-body">
                      <p
                        class="card-text p-3 cabinTitle"
                        (click)="openCabinSliderModal(cabin)"
                      >
                        {{ cabin?.accommodation_title }}
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- <div id="Accommodations" class="tab-pane">

                    </div> -->
          <div id="map" class="tab-pane">
            <h5 class="heading" id="showmap">Map</h5>
            <div class="map">
              <div [innerHTML]="googleIframe"></div>
            </div>
          </div>

          <div id="boat" class="tab-pane">
            <h5 class="heading">Available Boats</h5>
            <div class="card p-3" *ngFor="let item of boatData?.Boats">
              <div class="row">
                <div class="col-md-7">
                  <div class="position-relative mt-4">
                    <div>
                      <img [src]="item?.cover" class="w-100" alt="boat" />
                    </div>
                    <div
                      class="flex-horizontal-center position-absolute"
                      style="bottom: 15px; right: 25px"
                    >
                      <!-- Video -->
                      <a
                        *ngIf="item?.video"
                        (click)="openVideoBoat()"
                        class="js-fancybox btn btn-white py-2 px-md-5 px-3 shadow-6 mr-1"
                      >
                        <img
                          src="assets/custom/Activity/youtube.svg"
                          class="me-2"
                          alt="video"
                        /><span class="d-none d-md-inline">Video</span>
                      </a>
                      <!-- End Video -->
                      <a
                        class="js-fancybox btn btn-white ml-2 py-2 px-md-5 px-3 shadow-6"
                        (click)="openBoatSliderModal(item)"
                      >
                        <img
                          src="assets/custom/Activity/gallary.svg"
                          class="me-2"
                          alt="video"
                        /><span class="d-none d-md-inline">Gallery</span>
                      </a>
                    </div>
                  </div>
                </div>
                <p-galleria
                  [value]="boatImages"
                  [(visible)]="displayBoats"
                  [responsiveOptions]="responsiveOptions"
                  [containerStyle]="{ 'max-width': '850px' }"
                  [numVisible]="7"
                  [circular]="true"
                  [fullScreen]="true"
                  [showItemNavigators]="true"
                  [showThumbnails]="false"
                >
                  <ng-template pTemplate="item" let-item>
                    <img
                      [src]="item?.value"
                      style="width: 100%; height: 480px"
                    />
                  </ng-template>
                </p-galleria>
                <div class="col-md-5">
                  <h6>{{ item.name }}</h6>
                  <ul class="py-3 boat-features list-unstyled">
                    <li *ngFor="let feature of getOverviewItems(item.overview)">
                      {{ feature }}
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div id="importantInformation" class="tab-pane">
            <h5 class="heading">Important Information</h5>
            <div [innerHTML]="boatData?.ImportantInformation"></div>
          </div>

          <div id="faq" class="tab-pane">
            <div class="py-4">
              <h5 class="heading">Faq</h5>
              <div id="basicsAccordion">
                <!-- Card -->
                <div class="card border-0 mb-4 pb-1">
                  <mat-accordion>
                    <mat-expansion-panel
                      #panel
                      hideToggle="true"
                      *ngFor="let faqItem of boatData?.FAQ"
                    >
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <div class="me-5 faq">
                            <i
                              *ngIf="panel.expanded"
                              class="fa-solid fa-minus"
                            ></i>
                            <i
                              *ngIf="!panel.expanded"
                              class="fa-solid fa-plus"
                            ></i>
                          </div>
                          {{ faqItem.Question }}
                        </mat-panel-title>
                      </mat-expansion-panel-header>
                      <p style="padding-left: 90px">
                        {{ faqItem.Answer }}
                      </p>
                    </mat-expansion-panel>
                  </mat-accordion>
                </div>
              </div>
            </div>
            <div class="py-4">
              <h5 class="heading">Terms and Conditions</h5>
              <div id="basicsAccordion">
                <!-- Card -->
                <div
                  class="card border-0 mb-4 pb-1"
                  *ngFor="let termItem of boatData?.Terms"
                >
                  <div [innerHTML]="termItem"></div>
                </div>
              </div>
            </div>
            <h5 class="heading">Traveler Photos</h5>
            <div class="row Traveler g-5">
              <div class="col-md-5">
                <img
                  [src]="happyGustImages[0]"
                  [alt]=""
                  style="cursor: pointer; max-width: 100%; height: 100%"
                  (click)="imageClick(0)"
                />
                <!-- <img
                  class="w-100 h-100"
                  [src]="happyGustImages[0]"
                /> -->
              </div>
              <div class="col-md-7">
                <div class="row g-3">
                  <!-- Display first three images -->
                  <div
                    class="col-md-6 position-relative"
                    *ngFor="
                      let image of remainingImages.slice(0, 3);
                      let index = index
                    "
                  >
                    <img
                      [src]="image"
                      [alt]="image"
                      style="cursor: pointer; max-width: 100%; height: 100%"
                      (click)="imageClick(index + 1)"
                    />
                    <!-- <img
                      class="w-100 "
                      [src]="image"
                      alt="tour"
                      loading="lazy"
                      style="height: 125px;"
                    /> -->
                    <!-- Overlay -->
                    <div class="overlay"></div>
                  </div>

                  <!-- Last Image -->
                  <div
                    class="col-md-6 position-relative pt-1"
                    *ngIf="remainingImages.length > 3"
                  >
                    <img
                      [src]="remainingImages[3]"
                      alt="tour"
                      style="cursor: pointer; max-width: 100%; height: 100%"
                      (click)="imageClick(4)"
                    />
                    <!-- <img
                      class="w-100 remainingImages"
                      [src]="remainingImages[3]"
                      alt="tour"
                      loading="lazy"
                    /> -->
                    <!-- Overlay and button -->
                    <div class="see-more-container">
                      <div class="position-relative">
                        <!-- Overlay -->
                        <div class="overlay"></div>
                        <!-- Button -->
                        <button class="see-more-button" (click)="imageClick(4)">
                          See More
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                          >
                            <path
                              d="M8.9101 20.6695C8.7201 20.6695 8.5301 20.5995 8.3801 20.4495C8.0901 20.1595 8.0901 19.6795 8.3801 19.3895L14.9001 12.8695C15.3801 12.3895 15.3801 11.6095 14.9001 11.1295L8.3801 4.60953C8.0901 4.31953 8.0901 3.83953 8.3801 3.54953C8.6701 3.25953 9.1501 3.25953 9.4401 3.54953L15.9601 10.0695C16.4701 10.5795 16.7601 11.2695 16.7601 11.9995C16.7601 12.7295 16.4801 13.4195 15.9601 13.9295L9.4401 20.4495C9.2901 20.5895 9.1001 20.6695 8.9101 20.6695Z"
                              fill="white"
                            />
                          </svg>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <p-galleria
            [value]="desplayedGustImages"
            [(visible)]="displayCustom"
            [(activeIndex)]="activeIndex"
            [responsiveOptions]="responsiveOptions"
            [containerStyle]="{ 'max-width': '850px' }"
            [numVisible]="7"
            [circular]="true"
            [fullScreen]="true"
            [showItemNavigators]="true"
            [showThumbnails]="false"
          >
            <ng-template pTemplate="item" let-item>
              <img [src]="item?.value" style="width: 100%; display: block" />
            </ng-template>
          </p-galleria>
          <div id="review" class="tab-pane">
            <div class="border-bottom py-4">
              <h5 id="scroll-reviews">Average Reviews</h5>
              <div class="row review-num">
                <div class="col-md-4 mb-4 mb-md-0 d-flex flex-column">
                  <div
                    class="border rounded flex-content-center py-5 border-width-2"
                    style="flex: 1"
                  >
                    <div class="text-center">
                      <h2 class="font-size-50 fw-bold">
                        {{ getRoundedRate(boatData?.rate)
                        }}<span class="font-size-20">/5</span>
                      </h2>
                      <div class="font-size-25 text-dark mb-3">
                        {{ getRatingDescription(boatData?.rate) }}
                      </div>
                      <i
                        *ngFor="let star of [1, 2, 3, 4, 5]"
                        class="fa-solid fa-star text-black-50"
                        [ngClass]="{
                          'fa-star-filled': star <= boatData?.rate,
                          'yellow-star': star <= boatData?.rate
                        }"
                      ></i>
                      <div class="text-gray-1">
                        From {{ boatData?.CountReview }} reviews
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-8">
                  <h5
                    class="font-size-21 fw-bold text-dark mb-8"
                    *ngIf="boatData?.CountReview > 0"
                  >
                    Showing Most Recent verified guest comments
                  </h5>
                  <div
                    class="media flex-column flex-md-row align-items-center align-items-md-start mb-4"
                    *ngFor="let review of boatData?.Reviwe?.slice(0, 1)"
                  >
                    <div class="mr-md-5">
                      <a class="d-block" href="#">
                        <img
                          class="img-fluid mb-3 mb-md-0 rounded-circle"
                          [src]="review?.avatar"
                          [alt]="review?.name"
                        />
                      </a>
                    </div>
                    <div class="media-body text-center text-md-left">
                      <div class="mb-4">
                        <h6 class="fw-bold text-gray-3">
                          <a>{{ review?.name }}</a>
                        </h6>
                        <div
                          class="font-weight-normal font-size-14 text-gray-9 mb-2"
                        >
                          {{ review?.date | date : "MMMM d y" }} at
                          {{ review?.date | date : "hh:mm a" }}
                        </div>
                        <i
                          *ngFor="let star of [1, 2, 3, 4, 5]"
                          class="fa-solid fa-star"
                          [ngClass]="{
                            'fa-star-filled': star <= review.rate,
                            'yellow-star': star <= review.rate
                          }"
                        ></i>
                        <p class="text-lh-1dot6 mb-0 pr-lg-5">
                          {{ review?.comment }}
                        </p>
                        <!-- <div class="mt-5">
                          <div
                            class="row no-gutters justify-content-between align-items-center border border-color-8 border-width-2 rounded-xs p-3 px-md-3 py-md-2 pr-xl-5"
                          >
                            <div class="col">
                              <div
                                class="font-weight-normal font-size-14 text-gray-1 mx-lg-1 my-lg-1 mb-3 mb-md-0"
                              >
                                Was This Review...?
                              </div>
                            </div>
                            <div class="col-md-6 col-lg-7 col-xl-4">
                              <div
                                class="d-flex justify-content-between my-lg-1"
                              >
                                <a class="text-indigo-light">
                                  <img
                                    src="assets/custom/Activity/like.svg"
                                    class="me-2"
                                    alt="like"
                                  />
                                  <span class="font-size-14 font-weight-normal"
                                    >Like</span
                                  >
                                </a>
                                <a class="text-gray-7">
                                  <img
                                    src="assets/custom/Activity/dislike.svg"
                                    class="me-2"
                                    alt="dislike"
                                  />
                                  <span class="font-size-14 font-weight-normal"
                                    >Dislike</span
                                  >
                                </a>
                                <a class="text-red-light-2">
                                  <i
                                    class="fa-regular fa-heart font-size-15 mr-1"
                                  ></i>
                                  <span class="font-size-14 font-weight-normal"
                                    >Love</span
                                  >
                                </a>
                              </div>
                            </div>
                          </div>
                        </div> -->
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="border-bottom py-4">
              <div *ngIf="showAllReviews">
                <h5
                  class="font-size-21 fw-bold text-dark mb-8"
                  *ngIf="boatData?.CountReview > 0"
                >
                  Showing {{ boatData?.CountReview }} verified guest comments
                </h5>
                <div
                  class="media flex-column flex-md-row align-items-center align-items-md-start mb-4"
                  *ngFor="let review of boatData?.Reviwe"
                >
                  <div class="mr-md-5">
                    <a class="d-block" href="#">
                      <img
                        class="img-fluid mb-3 mb-md-0 rounded-circle"
                        [src]="review?.avatar"
                        [alt]="review?.name"
                      />
                    </a>
                  </div>
                  <div class="media-body text-center text-md-left">
                    <div class="mb-4">
                      <h6 class="fw-bold text-gray-3">
                        <a>{{ review?.name }}</a>
                      </h6>
                      <div
                        class="font-weight-normal font-size-14 text-gray-9 mb-2"
                      >
                        {{ review?.date | date : "MMMM d y" }} at
                        {{ review?.date | date : "hh:mm a" }}
                      </div>
                      <i
                        *ngFor="let star of [1, 2, 3, 4, 5]"
                        class="fa-solid fa-star"
                        [ngClass]="{
                          'fa-star-filled': star <= review.rate,
                          'yellow-star': star <= review.rate
                        }"
                      ></i>
                      <p class="text-lh-1dot6 mb-0 pr-lg-5">
                        {{ review?.comment }}
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="py-4">
                <div
                  class="d-flex flex-column flex-md-row justify-content-between mb-4"
                >
                  <div>
                    <h5
                      class="font-size-21 fw-bold text-dark mb-2 mb-md-6"
                      style="cursor: pointer"
                    >
                      Write a Review
                      <i
                        class="fa-solid fa-star text-black-50"
                        (mouseenter)="onStarHover(1)"
                        (click)="onStarClick(1)"
                        [ngClass]="{ selected: selectedStar >= 1 }"
                      ></i>
                      <i
                        class="fa-solid fa-star text-black-50"
                        (mouseenter)="onStarHover(2)"
                        (click)="onStarClick(2)"
                        [ngClass]="{ selected: selectedStar >= 2 }"
                      ></i>
                      <i
                        class="fa-solid fa-star text-black-50"
                        (mouseenter)="onStarHover(3)"
                        (click)="onStarClick(3)"
                        [ngClass]="{ selected: selectedStar >= 3 }"
                      ></i>
                      <i
                        class="fa-solid fa-star text-black-50"
                        (mouseenter)="onStarHover(4)"
                        (click)="onStarClick(4)"
                        [ngClass]="{ selected: selectedStar >= 4 }"
                      ></i>
                      <i
                        class="fa-solid fa-star text-black-50"
                        (mouseenter)="onStarHover(5)"
                        (click)="onStarClick(5)"
                        [ngClass]="{ selected: selectedStar >= 5 }"
                      ></i>
                    </h5>
                  </div>
                  <div *ngIf="boatData?.CountReview > 0" class="btns">
                    <a
                      (click)="showAllReviews = !showAllReviews"
                      *ngIf="!showAllReviews"
                      class="text-decoration-underline"
                      >Read All Reviews</a
                    >
                    <a
                      (click)="showAllReviews = !showAllReviews"
                      *ngIf="showAllReviews"
                      class="text-decoration-underline"
                      >Hide All Reviews</a
                    >
                  </div>
                </div>
                <form class="js-validate" novalidate="novalidate">
                  <div class="row mb-5 mb-lg-0">
                    <div class="col-sm-12 mb-5">
                      <div class="js-form-message">
                        <div class="input-group">
                          <textarea
                            class="form-control"
                            rows="6"
                            cols="77"
                            name="text"
                            placeholder="Hi there, I would like to ..."
                            [(ngModel)]="comment"
                          ></textarea>
                        </div>
                      </div>
                    </div>
                    <!-- End Input -->
                    <div
                      class="col d-flex justify-content-center justify-content-lg-start"
                    >
                      <button
                        type="submit"
                        class="btn rounded-xs btnReview text-white p-2 height-51 width-190"
                        (click)="addReview()"
                      >
                        Submit Review
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <!--  -->
      </div>
      <!-- Filter -->
      <div
        class="col-lg-4 col-xl-3 p-0 order-1 order-md-2"
        style="margin-top: 9.5rem"
      >
        <div class="mb-4 sticky-container">
          <ul
            class="list-group list-group-borderless list-group-horizontal custom-social-share pb-3"
          >
            <li class="list-group-item px-1">
              <a
                #btn
                (click)="addtoFavorits(btn, $event)"
                class="height-45 text-black-50 width-45 border rounded border-width-2 flex-content-center"
              >
                <i class="fa fa-heart fs-3"></i>
              </a>
            </li>
            <li class="list-group-item px-1">
              <a
                (click)="share()"
                class="height-45 width-45 border rounded border-width-2 flex-content-center"
              >
                <i class="fa-solid fa-share-nodes font-size-18 text-dark"></i>
              </a>
            </li>
            <li class="list-group-item px-1">
              <a class="border rounded border-width-2 flex-content-center">
                <span class="text-white review">
                  {{ getRoundedRate(boatData?.rate) }} /5</span
                >
              </a>
            </li>
            <li class="list-group-item flex-content-center px-1">
              <span class="top">{{
                getRatingDescription(boatData?.rate)
              }}</span>
              <small class="d-block"
                >({{ boatData?.CountReview }} Reviews)</small
              >
            </li>
          </ul>

          <div
            class="border border-color-7 rounded mb-5 p-5"
            #selectCabinButton
          >
            <div>
              <!-- Input -->

              <div class="mb-4">
                <div
                  class="priceTitle d-flex justify-content-between"
                  *ngIf="price"
                >
                  <span class="d-block text-gray-1 font-weight-normal text-left"
                    >Price</span
                  >
                  <p>From {{ price }} $</p>
                </div>
                <div class="border-bottom border-width-2 border-color-1 pb-1">
                  <span class="d-block">Date</span>
                  <div
                    class="js-quantity flex-center-between mb-1 text-dark font-weight-bold"
                  >
                    <div id="datepickerWrapperFromOne" class="w-100">
                      <mat-form-field class="w-100 mt-2">
                        <mat-label>Enter a date range</mat-label>
                        <mat-date-range-input
                          [formGroup]="range"
                          [rangePicker]="picker"
                        >
                          <input
                            matStartDate
                            formControlName="start"
                            placeholder="Start date"
                            (dateInput)="onStartDateChanged()"
                            [min]="today"
                          />
                          <input
                            matEndDate
                            formControlName="end"
                            placeholder="End date"
                            (dateInput)="onEndDateChanged()"
                          />
                        </mat-date-range-input>
                        <mat-hint>MM/DD/YYYY - MM/DD/YYYY</mat-hint>
                        <mat-datepicker-toggle
                          matSuffix
                          [for]="picker"
                        ></mat-datepicker-toggle>
                        <mat-date-range-picker #picker></mat-date-range-picker>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
                <div
                  class="border-bottom border-width-2 border-color-1 pb-1 mt-3"
                >
                  <span class="d-block">Destination</span>

                  <ng-container *ngIf="boatData?.Distnation">
                    <mat-form-field class="w-100 mt-2">
                      <!-- <mat-label>Date</mat-label> -->
                      <mat-select
                        [formControl]="selectedDateControl"
                        (selectionChange)="onSelectionChange($event)"
                        (valueChange)="onValueChange($event)"
                      >
                        <mat-option value="0" disabled
                          >Where are you going</mat-option
                        >
                        <mat-option
                          *ngFor="let time of boatData?.Distnation"
                          [value]="time"
                          >{{ time?.distnation }}</mat-option
                        >
                      </mat-select>
                    </mat-form-field>
                  </ng-container>
                </div>
              </div>
              <!-- End Input -->
              <div>
                <div class="alert alert-info my-2 text-white">
                  <p class="mb-0 text-dark">
                    Maximum of guests {{ boatData?.MaxPersons }}
                  </p>
                </div>
              </div>
              <!-- End Input -->
              <div
                *ngIf="
                  range.get('start')?.invalid &&
                  (range.get('start')?.dirty || range.get('start')?.touched)
                "
                class="text-danger"
              >
                <div *ngIf="range.get('start')?.errors?.['required']">
                  Start date is required.
                </div>
              </div>

              <div
                *ngIf="
                  range.get('end')?.invalid &&
                  (range.get('end')?.dirty || range.get('end')?.touched)
                "
                class="text-danger"
              >
                <div *ngIf="range.get('end')?.errors?.['required']">
                  End date is required.
                </div>
              </div>
              <div
                *ngIf="
                  selectedDateControl.invalid &&
                  (selectedDateControl.dirty || selectedDateControl.touched)
                "
                class="text-danger"
              >
                <div *ngIf="selectedDateControl.errors?.['required']">
                  Destination required.
                </div>
              </div>
              <div class="text-center">
                <a
                  class="btn check d-flex align-items-center justify-content-center height-60 w-100 mb-xl-0 mb-lg-1 text-white"
                  style="font-weight: 700"
                  (click)="bookNow()"
                >
                 Check availability
                </a>
              </div>
            </div>
          </div>
          <div class="border border-color-7 rounded p-4 mb-5">
            <h6 class="book">Why Book With Us?</h6>
            <div
              class="d-flex align-items-center mb-3"
              *ngFor="let about of Why_chosse_us"
            >
              <img
                [src]="about.icon"
                class="me-3"
                [alt]="about.title"
                loading="lazy"
                width="24"
                height="24"
              />
              <h6 class="mb-0 font-size-14 text-gray-1">
                <a>{{ about.title }}</a>
              </h6>
            </div>
          </div>
        </div>
        <!--End Filter -->
      </div>
    </div>
    <div class="my-liveBoard-work" *ngIf="relatedtrips.length > 0">
      <h5 class="text-center mb-5">You might also like..</h5>
      <owl-carousel-o [options]="customOptions" class="row">
        <ng-container *ngFor="let item of relatedtrips">
          <ng-template carouselSlide>
            <div style="width: 400px">
              <app-boat-card [item]="item"></app-boat-card>
            </div>
          </ng-template>
        </ng-container>
      </owl-carousel-o>
    </div>
  </div>

  <ng-template #videoBoatModal>
    <div class="h-100" mat-dialog-content>
      <iframe
        [src]="videoBoatUrl"
        id="inneriframe"
        class="w-100"
        style="height: 90%"
        scrolling="no"
        allowfullscreen
      ></iframe>
    </div>
  </ng-template>
  <ng-template #videoModal>
    <div class="h-100" mat-dialog-content>
      <iframe
        [src]="videoUrl"
        id="inneriframe"
        class="w-100"
        style="height: 90%"
        scrolling="no"
        allowfullscreen
      ></iframe>
    </div>
  </ng-template>
</div>

<div
  style="position: fixed; bottom: 0px; z-index: 999999999999999999999999"
  *ngIf="isMobile && !hideMobileFooter"
  class="text-center w-100"
>
  <div
    class="d-flex justify-content-between"
    style="background: white; padding: 5%"
  >
    <a
      class="btn check text-white d-flex align-items-center justify-content-center height-60 w-100 mb-xl-0 mb-lg-1 fw-bold"
      (click)="scrollToCabin()"
    >
    Check availability
    </a>
  </div>
</div>
