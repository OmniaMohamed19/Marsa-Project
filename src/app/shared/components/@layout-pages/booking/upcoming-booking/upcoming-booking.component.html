<section class="container">
  <div>
    <h4>Upcoming bookings</h4>
    <!------------------------->
    <ul class="nav">
      <li
        class="nav-item"
        [class.active]="'all' === activeSection"
        (click)="setActiveSection('all')"
      >
        All
      </li>

      <li
        *ngFor="let tab of tabs"
        class="nav-item"
        [class.active]="tab.categoryid === activeSection"
        (click)="setActiveSection(tab.categoryid)"
      >
        {{ tab.category }}
      </li>
    </ul>
    <!------------------->
    <div class="booking-cards">
      <Section class="row">
        <div class="col-lg-9">
          <section>
            <!------#1 First card------------------------>
            <div *ngIf="this.upcoming.length > 0">
              <div *ngFor="let trip of upcoming" class="d-flex place-card">
                <section class="first-place">
                  <div class="position-relative img-content">
                    <div class="img">
                      <img [src]="trip?.image" style="height: 290px" />
                    </div>
                    <div class="d-flex justify-content-between">
                      <span> Top Pick </span>
                      <span>
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                        >
                          <g clip-path="url(#clip0_1112_38571)">
                            <path
                              d="M2.50194 10.3818L2.50194 10.3818C2.44089 7.66535 3.8254 5.36033 5.75775 4.23307C7.55119 3.1891 9.78564 3.18167 11.6846 4.72595L12.0001 4.9825L12.3155 4.72595C14.2147 3.18153 16.4491 3.18822 18.2423 4.23305C20.1746 5.3592 21.5593 7.66514 21.4982 10.3818C21.4342 13.2131 19.4517 15.7412 17.1921 17.6006C16.0733 18.5213 14.9129 19.2556 13.9454 19.7577C13.4615 20.0088 13.0316 20.1988 12.6843 20.3247C12.3205 20.4565 12.0952 20.5 12.0001 20.5C11.905 20.5 11.6796 20.4565 11.3158 20.3247C10.9684 20.1988 10.5386 20.0088 10.0546 19.7577C9.08698 19.2556 7.92652 18.5213 6.80764 17.6006C4.54793 15.7411 2.56546 13.2131 2.50194 10.3818Z"
                              fill="none"
                              stroke="white"
                            />
                          </g>
                          <defs>
                            <clipPath id="clip0_1112_38571">
                              <rect width="24" height="24" fill="white" />
                            </clipPath>
                          </defs>
                        </svg>
                      </span>
                    </div>
                  </div>
                  <div class="trip">
                    <div>
                      <div class="d-flex city">
                        <h5 class="mb-0">{{ trip?.trip }}</h5>
                        <span>
                          <span class="mb-2 d-inline-block">
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="16"
                              height="19"
                              viewBox="0 0 16 19"
                              fill="none"
                            >
                              <path
                                d="M7.02961 18.7666L1.56506 12.2116C1.09591 11.6675 0.726802 11.0453 0.474738 10.3736C0.0495203 9.21012 -0.0929274 7.96296 0.0590208 6.73416C0.210969 5.50537 0.652994 4.32983 1.34898 3.30362C2.02368 2.28808 2.94082 1.45477 4.01833 0.878265C5.09584 0.301756 6.30015 0 7.52353 0C8.7469 0 9.95122 0.301756 11.0287 0.878265C12.1062 1.45477 13.0233 2.28808 13.698 3.30362C14.3945 4.33022 14.8366 5.50639 14.9882 6.73581C15.1398 7.96523 14.9966 9.2129 14.5703 10.3766C14.3193 11.0483 13.9504 11.6702 13.481 12.2136L8.01941 18.7666C7.95969 18.8401 7.8842 18.8994 7.79849 18.9402C7.71277 18.9809 7.61901 19.002 7.52402 19.002C7.42903 19.002 7.33527 18.9809 7.24955 18.9402C7.16384 18.8994 7.08933 18.8401 7.02961 18.7666ZM2.42023 4.0596C1.84383 4.90809 1.47747 5.88032 1.35119 6.89676C1.22491 7.9132 1.34228 8.94499 1.69368 9.90762C1.89266 10.4342 2.1835 10.9217 2.55283 11.3476L7.52402 17.3106L12.4932 11.3496C12.862 10.925 13.1525 10.4388 13.3514 9.9136C13.7033 8.95045 13.8211 7.91806 13.6949 6.90091C13.5688 5.88375 13.2024 4.91076 12.6258 4.06161C12.0678 3.22246 11.3095 2.53397 10.4188 2.05765C9.52812 1.58133 8.53268 1.332 7.52151 1.332C6.51033 1.332 5.5149 1.58133 4.62418 2.05765C3.73347 2.53397 2.97519 3.22246 2.41716 4.06161L2.42023 4.0596ZM3.88229 7.65964C3.90107 6.94674 4.13072 6.25518 4.54242 5.67148C4.95413 5.08777 5.52966 4.63783 6.19701 4.37796C6.86436 4.11809 7.59384 4.0598 8.2943 4.21042C8.99477 4.36104 9.63505 4.71382 10.135 5.2247C10.635 5.73558 10.9726 6.38188 11.1054 7.08267C11.2382 7.78346 11.1604 8.50763 10.8817 9.16464C10.603 9.82165 10.1359 10.3823 9.53864 10.7765C8.94141 11.1706 8.24065 11.3808 7.52402 11.3806C6.54552 11.3675 5.6122 10.9686 4.92876 10.2716C4.24533 9.57465 3.86757 8.6364 3.87831 7.66263L3.88229 7.65964ZM5.18262 7.65964C5.19448 8.11797 5.3419 8.56264 5.60643 8.93802C5.87097 9.3134 6.24085 9.60282 6.66983 9.77005C7.09881 9.93728 7.56782 9.97489 8.01818 9.8782C8.46854 9.78152 8.88025 9.55483 9.20179 9.22647C9.52334 8.89811 9.74049 8.48266 9.82598 8.03214C9.91147 7.58161 9.86154 7.116 9.68246 6.69357C9.50338 6.27114 9.20305 5.91066 8.81913 5.6572C8.43521 5.40374 7.98474 5.2686 7.52402 5.26865C7.21205 5.27256 6.90392 5.33756 6.61721 5.45999C6.3305 5.58242 6.07079 5.75984 5.85299 5.98215C5.6352 6.20446 5.46357 6.46731 5.34785 6.75565C5.23214 7.04398 5.17465 7.35218 5.17863 7.66263L5.18262 7.65964Z"
                                fill="#0DB1FF"
                              />
                            </svg>
                          </span>
                          <span class="place-name"> Hurghada </span>
                        </span>
                      </div>

                      <span class="d-flex">
                        <span class="d-inline-block"> 4.6 /5 </span>
                        <img src="../../../../../assets/images/star1.svg" />
                        <img src="../../../../../assets/images/star1.svg" />
                        <img src="../../../../../assets/images/star1.svg" />
                        <img src="../../../../../assets/images/star1.svg" />
                        <img src="../../../../../assets/images/star1.svg" />
                        <span class="d-inline-block ms-3">(166) </span>
                      </span>
                      <ul class="timing list-unstyled">
                        <li>
                          <span>
                            <img
                              src="../../../../../assets/images/calendar.svg"
                            />
                          </span>
                          <span>{{ trip?.bookingdate }}</span>
                        </li>
                        <li>
                          <span>
                            <img src="../../../../../assets/images/clock.svg" />
                          </span>
                          <span>
                            Starting Time : {{ trip?.booking_time }}
                          </span>
                        </li>
                        <li>
                          <span>
                            <img
                              src="../../../../../assets/images/Forma1.svg"
                            />
                          </span>
                          <span> {{ trip?.adult }} Adult (+18) </span>
                        </li>
                        <li>
                          <span>
                            <img
                              src="../../../../../assets/images/profile-2user.svg"
                            />
                          </span>
                          <span> {{ trip?.childern }} Children (5-10) </span>
                        </li>
                        <li>
                          <span>
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="23"
                              height="24"
                              viewBox="0 0 23 24"
                              fill="none"
                            >
                              <path
                                d="M17.8889 3.15789C17.8889 4.92632 16.4833 6.31579 14.6944 6.31579C12.9056 6.31579 11.5 4.92632 11.5 3.15789C11.5 1.38947 12.9056 0 14.6944 0C16.4833 0 17.8889 1.38947 17.8889 3.15789ZM15.3333 7.57895H14.3111C11.6278 7.57895 9.07222 6.06316 7.79445 3.66316C7.66667 3.53684 7.53889 3.41053 7.53889 3.28421L5.23889 4.29474C5.87778 6.06316 7.92222 8.33684 10.8611 9.47368L8.56111 15.7895L3.57778 14.4L0 21.3474L2.55556 21.9789L4.85556 17.4316L10.6056 18.9474C11.8833 19.2 13.1611 18.5684 13.6722 17.4316L16.6111 9.34737C16.8667 8.46316 16.2278 7.57895 15.3333 7.57895ZM20.3167 6.31579L15.9722 18.1895C15.2056 20.2105 13.2889 21.4737 11.2444 21.4737C10.8611 21.4737 10.35 21.4737 9.96667 21.3474L6.26111 20.3368L5.11111 22.6105L7.66667 23.2421L9.45555 23.7474C10.0944 23.8737 10.7333 24 11.3722 24C14.5667 24 17.3778 22.1053 18.5278 19.0737L23 6.31579H20.3167Z"
                                fill="#0DB1FF"
                              />
                            </svg>
                          </span>
                          <span> {{ trip?.infant }} Infant (+18) </span>
                        </li>
                      </ul>
                    </div>

                    <div class="trip-rating">
                      <p class="mt-4">
                        <b> {{ trip?.price }} $ </b> / night
                      </p>
                      <div class="mobile-btn">
                        <button>Edit</button>
                        <button
                          (click)="setActiveBooking(trip?.id)"
                          type="button"
                          data-bs-toggle="modal"
                          data-bs-target="#exampleModal"
                        >
                          cancel
                        </button>
                      </div>
                    </div>
                  </div>
                </section>
              </div>
            </div>
            <div *ngIf="this.upcoming?.length == 0" class="my-4">
              No Upcoming Bookings available
            </div>
          </section>

          <!--------#1 end Of first card------------------------------------->
        </div>
        <!--------end of first column------------->
        <!--------column 2---------------------->
        <div class="col-lg-3">
          <div class="book-with-us">
            <h6>Why Book With Us?</h6>
            <ul>
              <li>
                <span>
                  <img src="../../../../../assets/images/global-refresh.svg" />
                </span>
                <span> Unique Destinations </span>
              </li>
              <li>
                <span>
                  <img src="../../../../../assets/images/call-calling.svg" />
                </span>
                <span> 24/7 Expert customer support </span>
              </li>
              <li>
                <span>
                  <img src="../../../../../assets/images/routing.svg" />
                </span>
                <span> Expert Tour Guide </span>
              </li>
              <li>
                <span>
                  <img src="../../../../../assets/images/dollar-square.svg" />
                </span>
                <span> Best Price Guarantee </span>
              </li>
              <li>
                <span>
                  <img
                    src="../../../../../assets/images/empty-wallet-tick.svg"
                  />
                </span>
                <span> Free Cancellation </span>
              </li>
            </ul>
          </div>
        </div>
        <!------------------------------------>
      </Section>
    </div>
  </div>
</section>

<!---------------------------------------->
<!-- Button trigger modal -->

<!-- Modal -->
<div
  class="modal fade py-3 step1"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to cancel this tour ?</p>
      </div>
      <div class="modal-footer">
        <button type="button" data-bs-dismiss="modal">Back</button>
        <button
          type="button"
          data-bs-toggle="modal"
          data-bs-target="#exampleModal1"
          data-bs-dismiss="modal"
        >
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>
<!-------------------------------------->

<!-- Modal -->
<div
  class="modal fade py-3 step2"
  id="exampleModal1"
  tabindex="-1"
  aria-labelledby="exampleModalLabel1"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <header>
          <p>Before you go would you mind letting us know why ?</p>
          <span>Your feedback will help us make marsawaves better</span>
        </header>
        <form>
          <div class="form-check" *ngFor="let reason of reasons">
            <input
              (change)="setReason(reason)"
              class="form-check-input"
              name="choosenReason"
              type="radio"
              [value]="reason"
              id="flexCheckChecked"
            />
            <label class="form-check-label" for="flexCheckChecked">
              {{ reason.label }}
            </label>
          </div>
          <div>
            <textarea *ngIf="choosenReason?.id == 4" class="form-control">
Write here ...</textarea
            >
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" data-bs-dismiss="modal">Cancel</button>
        <button
          (click)="cancelBooking()"
          type="button"
          data-bs-toggle="modal"
          data-bs-target="#exampleModal2"
          data-bs-dismiss="modal"
        >
          Confirm
        </button>
      </div>
    </div>
  </div>
</div>

<!---------------------->
<!-- Modal -->
<div
  class="modal fade py-3"
  id="exampleModal2"
  tabindex="-1"
  aria-labelledby="exampleModalLabel2"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>

      <div class="modal-body">
        <span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="107"
            height="107"
            viewBox="0 0 107 107"
            fill="none"
          >
            <path
              d="M53.5 6.6875C65.9154 6.6875 77.8224 11.6195 86.6014 20.3986C95.3805 29.1776 100.312 41.0846 100.312 53.5C100.312 65.9154 95.3805 77.8224 86.6014 86.6014C77.8224 95.3805 65.9154 100.312 53.5 100.312C41.0846 100.312 29.1776 95.3805 20.3986 86.6014C11.6195 77.8224 6.6875 65.9154 6.6875 53.5C6.6875 41.0846 11.6195 29.1776 20.3986 20.3986C29.1776 11.6195 41.0846 6.6875 53.5 6.6875ZM47.6685 62.7354L37.2694 52.3297C36.8966 51.9569 36.4541 51.6612 35.967 51.4594C35.4799 51.2576 34.9578 51.1538 34.4306 51.1538C33.9034 51.1538 33.3813 51.2576 32.8942 51.4594C32.4071 51.6612 31.9646 51.9569 31.5917 52.3297C30.8388 53.0826 30.4159 54.1038 30.4159 55.1685C30.4159 56.2333 30.8388 57.2545 31.5917 58.0074L44.833 71.2486C45.2048 71.6233 45.647 71.9207 46.1342 72.1236C46.6215 72.3265 47.144 72.431 47.6718 72.431C48.1996 72.431 48.7222 72.3265 49.2095 72.1236C49.6967 71.9207 50.1389 71.6233 50.5107 71.2486L77.9294 43.8232C78.3072 43.4519 78.6078 43.0096 78.8137 42.5216C79.0197 42.0336 79.127 41.5096 79.1294 40.98C79.1319 40.4503 79.0295 39.9254 78.8281 39.4355C78.6267 38.9456 78.3302 38.5005 77.9559 38.1257C77.5816 37.751 77.1368 37.454 76.6472 37.252C76.1575 37.05 75.6327 36.947 75.1031 36.9488C74.5734 36.9507 74.0493 37.0574 73.5611 37.2628C73.0729 37.4681 72.6301 37.7682 72.2584 38.1455L47.6685 62.7354Z"
              fill="#019E65"
            />
          </svg>
        </span>
        <h2>Success</h2>
        <p>Your tour has been cancelled successfully.</p>
      </div>
    </div>
  </div>
</div>
